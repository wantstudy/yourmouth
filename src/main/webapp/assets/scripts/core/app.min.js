var App=function(){var A=false;var J=false;var I=false;var h=false;var t;var f=200;var l=40;var p=[];var e={blue:"#4b8df8",red:"#e02222",green:"#35aa47",purple:"#852b99",grey:"#555555","light-grey":"#fafafa",yellow:"#ffb848"};var y=function(){var O=window,N="inner";if(!("innerWidth" in window)){N="client";O=document.documentElement||document.body}return{width:O[N+"Width"],height:O[N+"Height"]}};var v=function(){if($("body").css("direction")==="rtl"){A=true}J=!!navigator.userAgent.match(/MSIE 8.0/);I=!!navigator.userAgent.match(/MSIE 9.0/);h=!!navigator.userAgent.match(/MSIE 10.0/);if(h){jQuery("html").addClass("ie10")}if(h||I||J){jQuery("html").addClass("ie")}var N=navigator.userAgent.toLowerCase();if(N.match(/(iphone|ipod|ipad)/)){$(document).on("focus","input, textarea",function(){$(".page-header").hide();$(".page-footer").hide()});$(document).on("blur","input, textarea",function(){$(".page-header").show();$(".page-footer").show()})}};var n=function(){var N=y();if(N.width<992){$("body").removeClass("page-sidebar-closed")}};var x=function(){for(var N=0;N<p.length;N++){var O=p[N];O.call()}};var H=function(){n();d();c();x()};var E=function(){n();d()};var L=function(N){if(N){t=N}else{t=function(P,O){if(typeof O!="undefined"){$.cookie(P,O,{expires:180})}else{return $.cookie(P)}}}};var q=function(){var N;if(J){var O;$(window).resize(function(){if(O==document.documentElement.clientHeight){return}if(N){clearTimeout(N)}N=setTimeout(function(){H()},50);O=document.documentElement.clientHeight})}else{$(window).resize(function(){if(N){clearTimeout(N)}N=setTimeout(function(){H()},50)})}};var d=function(){var R=$(".page-content");var S=$(".page-sidebar");var O=$("body");var N;if(O.hasClass("page-footer-fixed")===true&&O.hasClass("page-sidebar-fixed")===false){var T=$(window).height()-$(".footer").outerHeight()-$(".header").outerHeight();if(R.height()<T){R.attr("style","min-height:"+T+"px !important")}}else{if(O.hasClass("page-sidebar-fixed")){N=g()}else{if($("body").hasClass("page-sidebar-closed")){N=S.height()+160}else{N=S.height()+20}var P=$(".header").outerHeight();var Q=$(".footer").outerHeight();if($(window).width()>1024&&(N+P+Q)<$(window).height()){N=$(window).height()-P-Q}}if(N>=R.height()){R.attr("style","min-height:"+N+"px !important")}}};var M=function(){jQuery(".page-sidebar").on("click","li > a",function(T){App.toggleSidebarStatus();if($(this).next().hasClass("sub-menu")==false){if($(".btn-navbar").hasClass("collapsed")==false){$(".btn-navbar").click()}return}if($(this).next().hasClass("sub-menu always-open")){return}var S=$(this).parent().parent();var R=$(this);var U=$(".page-sidebar-menu");var Q=jQuery(this).next();var P=U.data("auto-scroll")?U.data("auto-scroll"):true;var O=U.data("slide-speed")?parseInt(U.data("slide-speed")):200;S.children("li.open").children("a").children(".arrow").removeClass("open");S.children("li.open").children(".sub-menu:not(.always-open)").slideUp(200);S.children("li.open").removeClass("open");var N=-200;if(Q.is(":visible")){jQuery(".arrow",jQuery(this)).removeClass("open");jQuery(this).parent().removeClass("open");Q.slideUp(O,function(){if(P==true&&$("body").hasClass("page-sidebar-closed")==false){if($("body").hasClass("page-sidebar-fixed")){}else{}}d()})}else{jQuery(".arrow",jQuery(this)).addClass("open");jQuery(this).parent().addClass("open");Q.slideDown(O,function(){if(P==true&&$("body").hasClass("page-sidebar-closed")==false){if($("body").hasClass("page-sidebar-fixed")){}else{}}d()})}T.preventDefault()})};var g=function(){var N=$(window).height()-$(".header").height()+1;if($("body").hasClass("page-footer-fixed")){N=N-$(".footer").outerHeight()}return N};var c=function(){var P=$(".page-sidebar-menu");if(P.parent(".slimScrollDiv").size()===1){P.slimScroll({destroy:true});P.removeAttr("style");$(".page-sidebar").removeAttr("style")}if($(".page-sidebar-fixed").size()===0){d();return}var N=y();if(N.width>=992){var O=g();P.slimScroll({size:"7px",color:"#a1b2bd",opacity:0.3,position:A?"left":"right",height:O,allowPageScroll:false,disableFadeOut:false});d()}};var D=function(){if($("body").hasClass("page-sidebar-fixed")===false){return}$(".page-sidebar").off("mouseenter").on("mouseenter",function(){var N=$("body");if((N.hasClass("page-sidebar-closed")===false||N.hasClass("page-sidebar-fixed")===false)||$(this).hasClass("page-sidebar-hovering")){return}N.removeClass("page-sidebar-closed").addClass("page-sidebar-hover-on");if(N.hasClass("page-sidebar-reversed")){$(this).width(f)}else{$(this).addClass("page-sidebar-hovering");$(this).animate({width:f},400,"",function(){$(this).removeClass("page-sidebar-hovering")})}});$(".page-sidebar").off("mouseleave").on("mouseleave",function(){var N=$("body");if((N.hasClass("page-sidebar-hover-on")===false||N.hasClass("page-sidebar-fixed")===false)||$(this).hasClass("page-sidebar-hovering")){return}if(N.hasClass("page-sidebar-reversed")){$("body").addClass("page-sidebar-closed").removeClass("page-sidebar-hover-on");$(this).width(l)}else{$(this).addClass("page-sidebar-hovering");$(this).animate({width:l},400,"",function(){$("body").addClass("page-sidebar-closed").removeClass("page-sidebar-hover-on");$(this).removeClass("page-sidebar-hovering")})}})};var u=function(){var N=y();if(t&&t("sidebar_closed")==="1"&&N.width>=992){$("body").addClass("page-sidebar-closed")}$(".page-sidebar, .header").on("click",".sidebar-toggler",function(Q){var O=$("body");var P=$(".page-sidebar");if((O.hasClass("page-sidebar-hover-on")&&O.hasClass("page-sidebar-fixed"))||P.hasClass("page-sidebar-hovering")){O.removeClass("page-sidebar-hover-on");P.css("width","").hide().show();d();if(t){t("sidebar_closed","0")}Q.stopPropagation();x();return}$(".sidebar-search",P).removeClass("open");if(O.hasClass("page-sidebar-closed")){O.removeClass("page-sidebar-closed");if(O.hasClass("page-sidebar-fixed")){P.css("width","")}if(t){t("sidebar_closed","0")}}else{O.addClass("page-sidebar-closed");if(t){t("sidebar_closed","1")}}d();x()});$(".page-sidebar").on("click",".sidebar-search .remove",function(O){O.preventDefault();$(".sidebar-search").removeClass("open")})};var w=function(){jQuery(".footer").on("click",".go-top",function(N){App.scrollTo();N.preventDefault()})};var C=function(){if(!jQuery().uniform){return}var N=$("input[type=checkbox]:not(.toggle, .make-switch), input[type=radio]:not(.toggle, .star, .make-switch)");if(N.size()>0){N.each(function(){if($(this).parents(".checker").size()==0){$(this).show();$(this).uniform()}})}};var G=function(){if(!jQuery().bootstrapSwitch){return}$(".make-switch").bootstrapSwitch()};var i=function(){jQuery("body").on("shown.bs.collapse",".accordion.scrollable",function(N){App.scrollTo($(N.target))})};var K=function(){$("body").on("shown.bs.tab",".nav.nav-tabs",function(){d()});if(location.hash){var N=location.hash.substr(1);$('a[href="#'+N+'"]').parents(".tab-pane:hidden").each(function(){var O=$(this).attr("id");$('a[href="#'+O+'"]').click()});$('a[href="#'+N+'"]').click()}};var k=function(){$("body").on("hide.bs.modal",function(){if($(".modal:visible").size()>1&&$("html").hasClass("modal-open")==false){$("html").addClass("modal-open")}else{if($(".modal:visible").size()<=1){$("html").removeClass("modal-open")}}});$("body").on("show.bs.modal",".modal",function(){if($(this).hasClass("modal-scroll")){$("body").addClass("modal-open-noscroll")}});$("body").on("hide.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")})};var B=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(N){N.stopPropagation()})};var j=function(){$('[data-hover="dropdown"]').dropdownHover()};var z=function(){$("body").on("click",'[data-close="alert"]',function(N){$(this).parent(".alert").hide();N.preventDefault()})};var s;var r=function(){jQuery(".popovers").popover();$(document).on("click.bs.popover.data-api",function(N){if(s){s.popover("hide")}})};var F=function(){$(".scroller").each(function(){var N;if($(this).attr("data-height")){N=$(this).attr("data-height")}else{N=$(this).css("height")}$(this).slimScroll({allowPageScroll:true,size:"7px",color:($(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb"),railColor:($(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea"),position:A?"left":"right",height:N,alwaysVisible:($(this).attr("data-always-visible")=="1"?true:false),railVisible:($(this).attr("data-rail-visible")=="1"?true:false),disableFadeOut:true})})};var o=function(){if(J||I){jQuery("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var N=jQuery(this);if(N.val()==""&&N.attr("placeholder")!=""){N.addClass("placeholder").val(N.attr("placeholder"))}N.focus(function(){if(N.val()==N.attr("placeholder")){N.val("")}});N.blur(function(){if(N.val()==""||N.val()==N.attr("placeholder")){N.val(N.attr("placeholder"))}})})}};var b=function(){function N(){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen()}else{if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen()}else{if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}}}else{if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}}}}$("#trigger_fullscreen").click(function(){N()})};var m=function(){if(jQuery().select2){$(".select2me").select2({placeholder:"Select",allowClear:true})}};var a=function(){var N=$(".theme-panel");if($("body").hasClass("page-boxed")==false){$(".layout-option",N).val("fluid")}$(".sidebar-option",N).val("default");$(".header-option",N).val("fixed");$(".footer-option",N).val("default");if($(".sidebar-pos-option").attr("disabled")===false){$(".sidebar-pos-option",N).val(App.isRTL()?"right":"left")}var R=function(){$("body").removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed").removeClass("page-sidebar-reversed");$(".header > .header-inner").removeClass("container");if($(".page-container").parent(".container").size()===1){$(".page-container").insertAfter("body > .clearfix")}if($(".footer > .container").size()===1){$(".footer").html($(".footer > .container").html())}else{if($(".footer").parent(".container").size()===1){$(".footer").insertAfter(".page-container")}}$("body > .container").remove()};var T="";var S=function(){var Z=$(".layout-option",N).val();var X=$(".sidebar-option",N).val();var W=$(".header-option",N).val();var Y=$(".footer-option",N).val();var V=$(".sidebar-pos-option",N).val();if(X=="fixed"&&W=="default"){alert("通知栏固定后，系统不支持左侧菜单栏跟随用户视角！");$(".header-option",N).val("fixed");$(".sidebar-option",N).val("fixed");X="fixed";W="fixed"}t("layoutOption",Z);t("sidebarOption",X);t("headerOption",W);t("footerOption",Y);t("sidebarPosOption",V);R();if(Z==="boxed"){$("body").addClass("page-boxed");$(".header > .header-inner").addClass("container");var U=$("body > .clearfix").after('<div class="container"></div>');$(".page-container").appendTo("body > .container");if(Y==="fixed"){$(".footer").html('<div class="container">'+$(".footer").html()+"</div>")}else{$(".footer").appendTo("body > .container")}}if(T!=Z){x()}T=Z;if(W==="fixed"){$("body").addClass("page-header-fixed");$(".header").removeClass("navbar-static-top").addClass("navbar-fixed-top")}else{$("body").removeClass("page-header-fixed");$(".header").removeClass("navbar-fixed-top").addClass("navbar-static-top")}if($("body").hasClass("page-full-width")===false){if(X==="fixed"){$("body").addClass("page-sidebar-fixed")}else{$("body").removeClass("page-sidebar-fixed")}}if(Y==="fixed"){$("body").addClass("page-footer-fixed")}else{$("body").removeClass("page-footer-fixed")}if(App.isRTL()){if(V==="left"){$("body").addClass("page-sidebar-reversed")}else{$("body").removeClass("page-sidebar-reversed")}}else{if(V==="right"){$("body").addClass("page-sidebar-reversed")}else{$("body").removeClass("page-sidebar-reversed")}}d();c();D()};var Q=function(U){var V=(App.isRTL()?U+"-rtl":U);$("#style_color").attr("href","assets/css/themes/"+V+".min.css");if(t){t("style_color",U)}};$(".toggler",N).click(function(){$(".toggler").hide();$(".toggler-close").show();$(".theme-panel > .theme-options").addClass("easing").show()});$(".toggler-close",N).click(function(){$(".toggler").show();$(".toggler-close").hide();$(".theme-panel > .theme-options").hide()});$(".theme-colors > ul > li",N).click(function(){var U=$(this).attr("data-style");Q(U);$("ul > li",N).removeClass("current");$(this).addClass("current")});$(".layout-option, .header-option, .sidebar-option, .footer-option, .sidebar-pos-option",N).change(S);if(t&&t("headerOption")){$(".layout-option",N).val(t("layoutOption"));$(".sidebar-option",N).val(t("sidebarOption"));$(".header-option",N).val(t("headerOption"));$(".footer-option",N).val(t("footerOption"));$(".sidebar-pos-option",N).val(t("sidebarPosOption"));S()}if(t&&t("style_color")){var O=t("style_color");var P=$("div.theme-colors").find("ul").find("li");P.each(function(){$(this).removeClass("current");if($(this).hasClass("color-"+O)){$(this).addClass("current")}});Q(O)}};return{init:function(N){L(N);v();q();F();E();c();D();M();u();o();w();a();B();k();b()},initAjax:function(){},fixContentHeight:function(){d()},setLastPopedPopover:function(N){s=N},addResponsiveHandler:function(N){p.push(N)},setEqualHeight:function(N){var O=0;N=jQuery(N);N.each(function(){var P=$(this).height();if(P>O){tallestColumn=P}});N.height(O)},scrollTo:function(O,N){var P=(O&&O.size()>0)?O.offset().top:0;if(O){if($("body").hasClass("page-header-fixed")){P=P-$(".header").height()}P=P+(N?N:-1*O.height())}jQuery("html,body").animate({scrollTop:P},"slow")},scrollTop:function(){App.scrollTo()},blockUI:function(N){var N=$.extend(true,{},N);var O="";if(N.iconOnly){O='<div class="loading-message '+(N.boxed?"loading-message-boxed":"")+'"><img style="" src="./assets/img/loading-spinner-grey.gif" align=""></div>'}else{if(N.textOnly){O='<div class="loading-message '+(N.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(N.message?N.message:"LOADING...")+"</span></div>"}else{O='<div class="loading-message '+(N.boxed?"loading-message-boxed":"")+'"><img style="" src="./assets/img/loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(N.message?N.message:"LOADING...")+"</span></div>"}}if(N.target){var P=jQuery(N.target);if(P.height()<=($(window).height())){N.cenrerY=true}P.block({message:O,baseZ:N.zIndex?N.zIndex:1000,centerY:N.cenrerY!=undefined?N.cenrerY:false,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:N.overlayColor?N.overlayColor:"#000",opacity:N.boxed?0.05:0.1,cursor:"wait"}})}else{$.blockUI({message:O,baseZ:N.zIndex?N.zIndex:1000,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:N.overlayColor?N.overlayColor:"#000",opacity:N.boxed?0.05:0.1,cursor:"wait"}})}},unblockUI:function(N){if(N){jQuery(N).unblock({onUnblock:function(){jQuery(N).css("position","");jQuery(N).css("zoom","")}})}else{$.unblockUI()}},startPageLoading:function(N){$(".page-loading").remove();$("body").append('<div class="page-loading"><img src="assets/img/loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(N?N:"Loading...")+"</span></div>")},stopPageLoading:function(){$(".page-loading").remove()},initUniform:function(N){if(N){jQuery(N).each(function(){if($(this).parents(".checker").size()==0){$(this).show();$(this).uniform()}})}else{C()}},updateUniform:function(N){$.uniform.update(N)},getActualVal:function(N){var N=jQuery(N);if(N.val()===N.attr("placeholder")){return""}return N.val()},getURLParameter:function(P){var N=window.location.search.substring(1),O,R,Q=N.split("&");for(O=0;O<Q.length;O++){R=Q[O].split("=");if(R[0]==P){return unescape(R[1])}}return null},isTouchDevice:function(){try{document.createEvent("TouchEvent");return true}catch(N){return false}},getUniqueID:function(N){return"prefix_"+Math.floor(Math.random()*(new Date()).getTime())},alert:function(N){N=$.extend(true,{container:"",place:"append",type:"success",message:"",close:true,reset:true,focus:true,closeInSeconds:0,icon:""},N);var P=App.getUniqueID("app_alert");var O='<div id="'+P+'" class="app-alerts alert alert-'+N.type+' fade in">'+(N.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(N.icon!=""?'<i class="fa-lg fa fa-'+N.icon+'"></i>  ':"")+N.message+"</div>";if(N.reset){$(".app-alerts").remove()}if(!N.container){$(".page-breadcrumb").after(O)}else{if(N.place=="append"){$(N.container).append(O)}else{$(N.container).prepend(O)}}$("#"+P).velocity({opacity:[1,0],translateY:[0,-20],translateZ:0});if(N.focus){App.scrollTo($("#"+P))}if(N.closeInSeconds>0){setTimeout(function(){$("#"+P).addClass("fade out");$("#"+P).find("button[data-dismiss=alert]").click();$("#"+P).hide();$("#"+P).remove()},N.closeInSeconds*1000)}},isIE8:function(){return J},isIE9:function(){return I},isRTL:function(){return A},browserinfo:function(){var N=navigator.userAgent,O=navigator.appVersion;return{trident:N.indexOf("Trident")>-1,presto:N.indexOf("Presto")>-1,webKit:N.indexOf("AppleWebKit")>-1,gecko:N.indexOf("Gecko")>-1&&N.indexOf("KHTML")==-1,mobile:!!N.match(/AppleWebKit.*Mobile.*/)||!!N.match(/AppleWebKit/),ios:!!N.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:N.indexOf("Android")>-1||N.indexOf("Linux")>-1,iPhone:N.indexOf("iPhone")>-1||N.indexOf("Mac")>-1,iPad:N.indexOf("iPad")>-1,webApp:N.indexOf("Safari")==-1}},getUrl:function(){return getUrl()},toggleSidebarStatus:function(N){if($("body").hasClass("temp")){$("body").removeClass("page-sidebar-closed").removeClass("temp")}if(!$("body").hasClass("page-sidebar-closed")&&N){$("body").addClass("page-sidebar-closed temp")}},notice:function(S,O,N,Q){Q=Q||2;var P=null;var R={success:"成功",warning:"警告",error:"错误",info:"友情提示"};N=N||"bottom-right";O=O||"success";toastr.options={closeButton:true,debug:false,positionClass:"toast-"+N,onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:Q*1000,extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};toastr.remove();P=toastr[O](S,R[O])},nohome:false,callback:null,getLayoutColorCode:function(N){if(e[N]){return e[N]}else{return""}}}}();